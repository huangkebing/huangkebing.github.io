(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{329:function(s,t){s.exports="data:image/png;base64,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"},343:function(s,t,a){"use strict";a.r(t);var n=a(4),e=function(s){s.options.__data__block__={mermaid_382ee1c8:'flowchart LR\n\tsubgraph A[不使用IoC时]\n\tClassA["UserService\\nB b = new B()"]--\x3e|依赖|ClassB[UserDao]\n\tend\n\tsubgraph B[使用IoC时]\n\tClassC[UserService]--\x3e|依赖|ClassD[UserDao]\n\tClassD --\x3e|1.实例化| IOC{{IoC容器}}\n\tIOC --\x3e|2.提供依赖实例| ClassC\n    ClassC --\x3e|3.实例化| IOC{{IoC容器}}\n\tend\n\tA --\x3e B\n'}},r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一、什么是ioc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、什么是ioc"}},[s._v("#")]),s._v(" 一、什么是IoC")]),s._v(" "),t("p",[s._v("{% notel red 到底是什么是IoC？%}")]),s._v(" "),t("p",[s._v("只要提到spring，肯定能听到IoC、AOP这两个词。这里我们先学习IoC，先从了解到底什么是IoC开始")]),s._v(" "),t("p",[s._v("{% endnotel %}")]),s._v(" "),t("p",[s._v("IoC全称Inversion of Control，意为控制反转")]),s._v(" "),t("p",[s._v("{% notel green 官方文档描述 %}")]),s._v(" "),t("p",[s._v("IoC也被称为依赖注入（DI）。它是一个过程，对象仅通过构造参数、工厂方法的参数或在对象实例被构造或从工厂方法返回后在其上设置的属性来定义其依赖关系（即它们与之合作的其他对象）。然后容器在创建 bean 时注入这些依赖关系。这个过程从根本上说是Bean本身通过使用直接构建类或诸如服务定位模式的机制来控制其依赖关系的实例化或位置的逆过程（因此被称为控制反转）。")]),s._v(" "),t("p",[s._v("{% endnotel %}")]),s._v(" "),t("p",[s._v("先看一个示例，比如一个dao层：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" userDaoImpl "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("在传统设计中，service依赖了dao，就需要自己new：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" userDao "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDaoImpl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("而有了IoC之后，结合自动注入：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("可以看到原先需要我们自行new对象来建构调用链路，现在就交给了框架来构建")]),s._v(" "),t("p",[s._v("{% notel green 一些理解 %}")]),s._v(" "),t("p",[s._v("IoC是一种设计思想，而不是一个具体的技术实现。IoC 的思想就是将原本在程序中手动创建对象的控制权，交由 Spring 框架来管理")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("控制")]),s._v("：指的是对象创建（实例化、管理）的权力")]),s._v(" "),t("li",[t("strong",[s._v("反转")]),s._v("：控制权交给外部环境（Spring 框架、IoC 容器）")])]),s._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee1c8",graph:s.$dataBlock.mermaid_382ee1c8}}),t("p",[s._v("有了IoC，我们可以免于系统大部分类的实例化，简化开发(当然排除一些实体类)")]),s._v(" "),t("p",[s._v("{% endnotel %}")]),s._v(" "),t("h2",{attrs:{id:"二、容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、容器"}},[s._v("#")]),s._v(" 二、容器")]),s._v(" "),t("p",[s._v("依照官方文档，构成你的应用程序的骨干并由Spring IoC容器管理的对象被称为Bean。Bean是一个由Spring IoC容器实例化、组装和管理的对象。那么这个容器到底是什么？如何实现的呢？")]),s._v(" "),t("p",[s._v("简单猜想：我们知道可以通过beanName来获取bean，那就有点类似是k-v键值对，所以可以先推测spring是使用map来存储bean的")]),s._v(" "),t("p",[s._v("首先，编写一个简单测试，通过ApplicationContext来获取bean。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Data")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@AllArgsConstructor")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Configuration")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserConfig")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"spring"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("因为这里不是用xml定义bean而是注解，所以需要使用"),t("code",[s._v("AnnotationConfigApplicationContext")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Main")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AnnotationConfigApplicationContext")]),s._v(" context "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AnnotationConfigApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 此处打断点，进行单步调试")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("在注释处打断点，进行单步调试")]),s._v(" "),t("p",[s._v("最终在"),t("code",[s._v("DefaultSingletonBeanRegistry")]),s._v("的"),t("code",[s._v("getSingleton(String, boolean)")]),s._v("方法中取到了bean，也见到了bean存放的地方：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/** Cache of singleton objects: bean name to bean instance. */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" singletonObjects "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentHashMap")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("在知道了bean容器是"),t("code",[s._v("ConcurrentHashMap")]),s._v("之外，还发现不管是类名、方法名还是变量名都有"),t("code",[s._v("singleton")]),s._v("，这很自然可以联想到"),t("code",[s._v("@Scope")]),s._v("作用域注解，可能不同作用域的bean存放在不同的地方，这一点后续再验证")]),s._v(" "),t("h2",{attrs:{id:"三、bean简单了解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、bean简单了解"}},[s._v("#")]),s._v(" 三、bean简单了解")]),s._v(" "),t("p",[s._v("官方文档中有这样一张图，从图中我们可以获得的信息：")]),s._v(" "),t("ul",[t("li",[s._v("想要创建bean，需要business objects，也就是我们的业务类")]),s._v(" "),t("li",[s._v("还需要configuration metadata，也就是配置元数据")]),s._v(" "),t("li",[s._v("有以上两者后，spring容器会替我们实例化，让我们可以直接拿来使用")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(329),alt:"container-magic"}})]),s._v(" "),t("p",[s._v("基于xml的配置是spring最初的唯一配置方式，但随着spring的发展，注解配置逐渐兴起。现在更多是使用注解的形式，相比于xml更加方便(尤其是Spring Boot兴起后)。这里我想把各种定义bean的方式都尝试一遍，这样对这一块的认知会比较完整，但先还是跟着官方文档走，用最初的定义方式，后面会涉及。")]),s._v(" "),t("p",[s._v("关于spring注解的发展可以看："),t("a",{attrs:{href:"https://juejin.cn/post/7277799132110569533",target:"_blank",rel:"noopener noreferrer"}},[s._v("Spring注解编程的发展过程"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("关于bean的定义方式："),t("a",{attrs:{href:"https://juejin.cn/post/6981815953784995847",target:"_blank",rel:"noopener noreferrer"}},[s._v("面试官：spring中定义bean的方法有哪些? 我一口气说出了12种，把面试官彻底征服了。 - 掘金 (juejin.cn)"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"_3-1-bean的定义和使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-bean的定义和使用"}},[s._v("#")]),s._v(" 3.1 bean的定义和使用")]),s._v(" "),t("p",[s._v("首先，先编写一个初始用例。UserService依赖UserDao实现了一个用户查询逻辑：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceImpl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里必须提供set方法或者构造器，否则无法注入依赖")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserServiceImpl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("userDao "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDaoImpl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserDao")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Spring Framework"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("在resources目录下，创建spring.xml，把两面两个类注册为bean")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token prolog"}},[s._v('<?xml version="1.0" encoding="UTF-8"?>')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("beans")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("xmlns")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.springframework.org/schema/beans"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n\t   "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("xmlns:")]),s._v("xsi")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.w3.org/2001/XMLSchema-instance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n\t   "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("xsi:")]),s._v("schemaLocation")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("bean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("org.kebing.dao.impl.UserDaoImpl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("bean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("org.kebing.service.impl.UserServiceImpl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--这个和类提供了构造器还是set方法有关，这里是通过构造器注入，使用property实现set方法注入--\x3e")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--name字段是userService中的成员变量名，ref是另一个bean的id--\x3e")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("constructor-arg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("bean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("beans")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("通过ApplicationContext来获取bean：")]),s._v(" "),t("p",[s._v("这里有一个点，正常情况下我们的项目里是不需要自己调ApplicationContext.getBean来获取bean的")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Main")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContext")]),s._v(" context "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassPathXmlApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"spring.xml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" userService "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("可以看到控制台打印：")]),s._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[s._v("User{id='3', userName='Spring Framework'}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-2-beandefinition"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-beandefinition"}},[s._v("#")]),s._v(" 3.2 BeanDefinition")]),s._v(" "),t("p",[s._v("文档中提到：在容器本身中，这些Bean定义被表示为 "),t("code",[s._v("BeanDefinition")]),s._v(" 对象，它包含（除其他信息外）以下元数据。")]),s._v(" "),t("ul",[t("li",[s._v("一个全路径类名：通常，被定义的Bean的实际实现类。")]),s._v(" "),t("li",[s._v("Bean的行为配置元素，它说明了Bean在容器中的行为方式（scope、生命周期回调，等等）。")]),s._v(" "),t("li",[s._v("对其他Bean的引用，这些Bean需要做它的工作。这些引用也被称为合作者或依赖。")]),s._v(" "),t("li",[s._v("要在新创建的对象中设置的其他配置设置—例如，pool的大小限制或在管理连接池的Bean中使用的连接数。")])]),s._v(" "),t("p",[s._v("文中并没有提到太多内容，可以知道的是，我们提供的配置最终被解析到了这里")]),s._v(" "),t("p",[s._v("而至于类中每个变量对应哪个配置，或者说每个变量如何配置，计划等到注解时再来一一核对")]),s._v(" "),t("h2",{attrs:{id:"四、ioc过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、ioc过程"}},[s._v("#")]),s._v(" 四、IoC过程")]),s._v(" "),t("p",[s._v("结合文档学习后，对IoC已经有了一定理解，是时候从入口着手研究整个流程了，带上问题开始调试")]),s._v(" "),t("p",[s._v("{% notel red IoC容器到底是怎么创建bean的？ %}")]),s._v(" "),t("p",[s._v("通过前面的简单了解，我们知道了IoC容器的数据结构，也知道配置最终解析成了BeanDefinition，那么实例是如何创建的呢？ApplicationContext、BeanFactory这些类又是做什么的呢？")]),s._v(" "),t("p",[s._v("{% endnotel %}")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionTests")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xmlTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xmlTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassPathXmlApplicationContext")]),s._v(" context "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassPathXmlApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"spring.xml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" userService "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tuserService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("从"),t("code",[s._v("ApplicationContext")]),s._v("入手，两行代码就从配置文件变成了实例对象，那么IoC的过程肯定也就在这两行中")]),s._v(" "),t("p",[s._v("进入"),t("code",[s._v("ApplicationContext")]),s._v("的源码，发现很多都是调用了"),t("code",[s._v("BeanFactory")]),s._v("的实现，可以理解为"),t("code",[s._v("ApplicationContext")]),s._v("基于"),t("code",[s._v("BeanFactory")]),s._v("的能力进行了扩展")])],1)}),[],!1,null,null,null);"function"==typeof e&&e(r);t.default=r.exports}}]);